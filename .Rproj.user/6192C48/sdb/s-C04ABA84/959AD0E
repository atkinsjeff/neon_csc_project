{
    "collab_server" : "",
    "contents" : "#Plot and site means\n#\n\nrequire(plyr)\nrequire(dplyr)\nrequire(tidyr)\n\n# Importing the pcl transect data\npcl <- read.csv(\"./data/laserquest_pcl_transects_2018.csv\")\n\n\n# # pcl means\npcl %>%  select(-c(filename, transectID, transect.length)) %>%\n  group_by(plotID, siteID) %>% \n  summarise_all(funs(mean, sd, var, min, max)) -> plot.means\n\nplot.means <- data.frame(plot.means)\n\n#write to file\nwrite.csv(plot.means, \"./data/laserquest_pcl_plot_means.csv\")\n\n\n### SITE MEANS\npcl %>% select(-c(filename, transectID, plotID, transect.length)) %>% \n  group_by(siteID) %>% \n  summarise_all(funs(mean, sd, var, min, max)) -> site.means\n\nsite.means <- data.frame(site.means)\n\nstr(site.means)\n\n#write to file\nwrite.csv(site.means, \"./data/laserquest_pcl_site_means.csv\")\n\n\n\n### LIGHT DATA\n\nlight <- read.csv(\"./data/light_data.csv\")\n\n# Renaming some variables\nlight <- plyr::rename(light, c( \"Average.Above.PAR\" = \"aPAR\", \"Average.Below.PAR\" = \"bPAR\",  \"Leaf.Area.Index..LAI.\" = \"LAI\"))\n\n# calculate fPAR - the fraction of photosynthetically availble radiation absorbed by the canopy\nlight$fPAR <- 1 - (light$bPAR / light$aPAR)\n\n# plot means\nlight %>% select(plotID, siteID, fPAR, aPAR, bPAR, LAI) %>%\n  group_by(plotID, siteID) %>%\n  summarise_all(funs(mean, sd, var, min, max)) -> plot.light.means\n  \nplot.light.means <- data.frame(plot.light.means)\n\n# site means\nlight %>% select(siteID, fPAR) %>%\n  group_by(siteID) %>%\n  summarise_all(funs(mean)) -> site.light.means\n  \nsite.light.means <- data.frame(site.light.means)\n\nsite.w.light <- merge(site.light.means, site.means, by = c(\"siteID\"))\nplot.w.light <- merge(plot.light.means, plot.means, by = c(\"plotID\", \"siteID\"))\n\nwrite.csv(plot.w.light, \"./data/laserquest_plot_means_fpar_csc.csv\")\nwrite.csv(site.w.light, \"./data/laserquest_site_means_fpar_csc.csv\")\n",
    "created" : 1515089688372.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3780880628",
    "id" : "959AD0E",
    "lastKnownWriteTime" : 1515768808,
    "last_content_update" : 1515768808578,
    "path" : "C:/github/neon_csc_project/01_data_tidying_script.R",
    "project_path" : "01_data_tidying_script.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}